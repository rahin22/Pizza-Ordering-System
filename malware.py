import os

# Defines the folderPath variable which gives the full path name for any file it is attached to
folderPath = os.path.dirname(os.path.abspath(__file__))

# This function prints the menu.txt flie when the menu option is selected
def menufunc():
    print('Menu:')
    with open("menu.txt",'r') as menu:
        for line in menu:
            print(line.strip())







# This function manages the ordering from the set menu 
def orderfunc():
   # Makes the 'bal' variable used in the function the global one declared in the wallet
   global bal
   # Makes the 'order' variable global and scope out the entire program instead of being constrained inside the function
   global order
   # The user prompt to enter which flavour pizza they would like
   order = input('Which pizza would you like to order: ')
   # The list contains all the prices for the different pizza sizes
   global price
   price = [7,14,22]
   # The user prompt to enter which size they would like their pizza to be
   global size
   # This while loop validates the if the size option entered by the user is valid or not
   while True:
       # The user prompt to enter which size they would like their pizza to be
       size = input('What size would you like (Small, Medium, Large): ')
       # This if statement checks if the three size options are in the users input or not
       if size.title() in ['Small', 'Medium', 'Large']:
           # If they are the program continues
           break
       # If the input is invalid the user is notified and the function recurs
       else:
           print("Invalid option entered. Please try again")
           orderfunc()
   # This block of If statements set the price of the pizza depending on the size
   if size.title() == 'Small' : price = price[0]
   if size.title() == 'Medium' : price = price[1]
   if size.title() == 'Large' : price = price[2] 
   
   # This statement controls orders of The Py pizza outlining the parameters of choosing the pizza with either its name or the number 8 and converts the inputs to title case to match the conditional statement
   if order.title() == 'The Py' or order == '8' :
       # This variable makes sure that the name of the pizza is outputted in the final print statement regardless of whether it was chosen using the name or the number
       order = 'The Py'
       # Calling the function makes a space between the previous line
       spacefunc()
       # Prints a summary of the order
       print('You have ordered a',size,order,'pizza,  Price:' +' '+ '$',price)
    
  
 
   # This statement controls orders of the Molto Benne Special pizza outlining the parameters of choosing the pizza with either its name or the number 7 and converts the inputs to title case to match the conditional statement
   elif order.title() == 'Molto Benne Special' or order == '7' :
       # This variable makes sure that the name of the pizza is outputted in the final print statement regardless of whether it was chosen using the name or the number
       order = 'Molto Benne Special'
       # Calling the function makes a space between the previous line
       spacefunc()
       # Prints a summary of the order
       print('You have ordered a',size,order,'pizza,  Price:' +' '+ '$',price)
    
  
 
   # This statement controls orders of the Margeherita pizza outlining the parameters of choosing the pizza with either its name or the number 6 and converts the inputs to title case to match the conditional statement
   elif order.title() == 'Margherita' or order == '6':
       # This variable makes sure that the name of the pizza is outputted in the final print statement regardless of whether it was chosen using the name or the number
       order = 'Margherita'
       # Calling the function makes a space between the previous line
       spacefunc()
       # Prints a summary of the order
       print('You have ordered a',size,order,'pizza,  Price:' +' '+ '$',price)
  
 
   # This statement controls orders of the Vegetarian pizza outlining the parameters of choosing the pizza with either its name or the number 5 and converts the inputs to title case to match the conditional statement
   elif order.title() == 'Vegetarian' or order == '5'  :
       # This variable makes sure that the name of the pizza is outputted in the final print statement regardless of whether it was chosen using the name or the number
       order = 'Vegetarian'
       # Calling the function makes a space between the previous line
       spacefunc()
       # Prints a summary of the order
       print('You have ordered a',size,order,'pizza,  Price:' +' '+ '$',price)
  
  
   # This statement controls orders of the BBQ Chicken pizza outlining the parameters of choosing the pizza with either its name or the number 4 and converts the inputs to title case to match the conditional statement
   elif order.title() == 'Bbq Chicken' or order == '4' :
       # This variable makes sure that the name of the pizza is outputted in the final print statement regardless of whether it was chosen using the name or the number
       order = 'BBQ Chicken'
       # Calling the function makes a space between the previous line
       spacefunc()
       # Prints a summary of the order
       print('You have ordered a',size,order,'pizza,  Price:' +' '+ '$',price)
  
 
   # This statement controls orders of the Meatlovers pizza outlining the parameters of choosing the pizza with either its name or the number 3 and converts the inputs to title case to match the conditional statement
   elif order.title() == 'Meatlovers' or order == '3' :
       # This variable makes sure that the name of the pizza is outputted in the final print statement regardless of whether it was chosen using the name or the number
       order = 'Meatlovers'
       # Calling the function makes a space between the previous line
       spacefunc()
       # Prints a summary of the order
       print('You have ordered a',size,order,'pizza,  Price:' +' '+ '$',price)
  
   
   # This statement controls orders of the Cheese pizza outlining the parameters of choosing the pizza with either its name or the number 2 and converts the inputs to title case to match the conditional statement
   elif order.title() == 'Cheese' or order == '2' :
       # This variable makes sure that the name of the pizza is outputted in the final print statement regardless of whether it was chosen using the name or the number
       order = 'Cheese'
       # Calling the function makes a space between the previous line
       spacefunc()
       # Prints a summary of the order
       print('You have ordered a',size,order,'pizza,  Price:' +' '+ '$',price)
 
 
   # This statement controls orders of the Peperoni pizza outlining the parameters of choosing the pizza with either its name or the number 1 and converts the inputs to title case to match the conditional statement
   elif order.title() == 'Peperoni' or order == '1'  :
       # This variable makes sure that the name of the pizza is outputted in the final print statement regardless of whether it was chosen using the name or the number
       order = 'Peperoni'
       # Calling the function makes a space between the previous line
       spacefunc()
       # Prints a summary of the order
       print('You have ordered a',size,order,'pizza,  Price:' +' '+ '$',price)


   # This else statement prints if an invalid input has been entered and restarts the ordering process
   else:
       print('Invalid order please try again')
       orderfunc()
       
  
  
  
   # This user prompt is to confirm the order with the user
   confirm = input('Would you like to proceed with this order? y/n: ')
   # This statement is to convert the user input into lowercase to match the conditional statement
   if confirm.lower() == 'y' or confirm.lower() == 'yes':
       # If the order is confirmed this seires of if statements intiate the payment process
       
       # This if statement controls the payment of the small size pizzas
       if size.title() == 'Small':
           # If the balance in the wallet is greater than or equal to seven the next section of if statements will execute
           if bal >= 7:
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of succesful order and deduction of funds from the wallet
               print('Thank you for ordering $7 has been deducted from your wallet')
               # Deducts 7 from the wallet balance
               bal -= 7
               # Prints the remaining balance in the wallet
               print('Remaining Balance: ','$',bal)
               # Calling this function asks the user if they want another pizza
               newordfunc()
           else:
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of the insuffcient funds in their wallet
               print('Insuffcient funds please deposit funds into your account')
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of the the wallet opening
               print('Opening wallet now')
               # Calling the function makes a space between the previous line
               spacefunc()
               # Opens the deposit option in the wallet
               walletfunc2()
               # Calling the function makes a space between the previous line
               spacefunc()
               # Restarts the ordering process
               # Prints a statement notifying the user of succesful order and deduction of funds from the wallet
               print('Thank you for ordering $7 has been deducted from your wallet')
               # Deducts 7 from the wallet balance
               bal -= 7
               # Prints the remaining balance in the wallet
               print('Remaining Balance: ','$',bal)
               # Calling this function asks the user if they want another pizza
               newordfunc()
              
        
        # This if statement controls the payment of the medium size pizzas
       if size.title() == 'Medium':
           # If the balance in the wallet is greater than or equal to fourteen the next section of if statements will execute
           if bal >= 14:
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of succesful order and deduction of funds from the wallet
               print('Thank you for ordering $14 has been deducted from your wallet')
               # Deducts 14 from the wallet balance
               bal -= 14
               # Prints the remaining balance in the wallet
               print('Remaining Balance: ','$',bal)
               # Calling this function asks the user if they want another pizza
               newordfunc()
          
           else: 
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of the insuffcient funds in their wallet
               print('Insuffcient funds please deposit funds into your account')
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of the the wallet opening
               print('Opening wallet now')
               # Calling the function makes a space between the previous line
               spacefunc()
               # Opens the deposit option in the wallet
               walletfunc2()
               # Calling the function makes a space between the previous line
               spacefunc()
               # Restarts the ordering process
               # Prints a statement notifying the user of succesful order and deduction of funds from the wallet
               print('Thank you for ordering $14 has been deducted from your wallet')
               # Deducts 14 from the wallet balance
               bal -= 14
               # Prints the remaining balance in the wallet
               print('Remaining Balance: ','$',bal)
               # Calling this function asks the user if they want another pizza
               newordfunc()
               
         
         
         # This if statement controls the payment of the large size pizzas
       if size.title() == 'Large':
           # If the balance in the wallet is greater than or equal to 22 the next section of if statements will execute
           if bal >= 22:
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of succesful order and deduction of funds from the wallet
               print('Thank you for ordering $22 has been deducted from your wallet')
               # Deducts 22 from the wallet balance
               bal -= 22
               # Prints the remaining balance in the wallet
               print('Remaining Balance: ','$',bal)
               # Calling this function asks the user if they want another pizza
               newordfunc()
               
           else:
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of the insuffcient funds in their wallet
               print('Insuffcient funds please deposit funds into your account')
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of the the wallet opening
               print('Opening wallet now')
               # Calling the function makes a space between the previous line
               spacefunc()
               # Opens the deposit option in the wallet
               walletfunc2()
               # Calling the function makes a space between the previous line
               spacefunc()
               # Restarts the ordering process
               # Prints a statement notifying the user of succesful order and deduction of funds from the wallet
               print('Thank you for ordering $22 has been deducted from your wallet')
               # Deducts 22 from the wallet balance
               bal -= 22
               # Prints the remaining balance in the wallet
               print('Remaining Balance: ','$',bal)
               # Calling this function asks the user if they want another pizza
               newordfunc()
               
   
   # If the user refutes the order the ordering process restarts
   else:
       print('Ok restarting your order')
       orderfunc()





       


# This list variable is defined to hold the pizzas ordered by the user if multiple pizzas are ordered
cart = []
# This list variable is defined to hold the prices of the pizzas ordered by the user if multiple pizzas are ordered
pricelist = []
# This function asks the user if they want to order another pizza after they order their initial pizza     
def newordfunc():
   # This makes the 'cart' variable inside the function the global one previously defined
   global cart
   # User prompt to enter their decision
   neworder = input('Would you like to order another pizza? y/n: ')
   # If the user wants to order another pizza the program loads the menu and the ordering functions
   if neworder.lower() == 'y' or neworder.lower() == 'yes':
       # Makes the price integer into a string so it can be appended to the list
       pricestr = str(price)
       # The users orders are stored in the cart list to be printed in the receipt
       cart.append(size.title()+' '+order+' '+'pizza'+' ''$'+pricestr)
       # The prices of each of the users orders are appended to the pricelist
       pricelist.append(price)
       # This makes the 'total' variable scope out the rest of the program
       global total
       # Sums the values in pricelist together
       total = sum(pricelist)
       # This makes the 'totalstr' variable scope out the rest of the program
       global totalstr
       # Convrts the total price integer to a string so it can be written to the receipt file
       totalstr = str(total)
       # Creates a newline between the previous line
       spacefunc()
       # Restarts the ordering process
       menufunc()
       orderfunc()
  
    # If the user does not want to order another it prints the receipt
   elif neworder.lower() == 'n' or neworder.lower() == 'no':
       # Makes the price integer into a string so it can be appended to the list
       pricestr = str(price)
       # The users orders are stored in the cart list to be printed in the receipt
       cart.append(size.title()+' '+order+' '+'pizza'+' ''$'+pricestr)
       # The prices of each of the users orders are appended to the pricelist
       pricelist.append(price)
       # Sums the values in pricelist together
       total = sum(pricelist)
       #Convrts the total price integer to a string so it can be written to the receipt file
       totalstr = str(total)
       # Creates a newline between the previous line
       spacefunc()
       # Thanks the user :}
       print('Thank you for coming to Molte Benne Pizzeria ')
       # Prints the order receipt
       print('Here is you receipt')
       receiptfunc()
    # If an invalid input is entered the function recurs
   else:
       print('Invalid input entered please try again')
       newordfunc()






# Imports the date and time function to make the receipt filename unique      
import datetime
# This function handles the receipt printing after an order
def receiptfunc():
    # Defines the receiptfolder variable with the name of "receipt" folder 
    receiptfolder = 'receipts'
    # Conditional statement checks if the receiptfolder does not exist and if not creates one
    if not os.path.exists(receiptfolder):
        os.mkdir(receiptfolder)
    # Makes the 'cart' variable used in the function the global one that had been previously been defined
    global cart
    # Gets the current date and time
    now = datetime.datetime.now()
    # Sets the filename format
    filename = f"{folderPath}/receipts/Receipt_{now.strftime('%Y-%m-%d_%H-%M-%S')}.txt"
    # Creates the receipt file and writes to it
    with open(filename, "w") as file:
       # Writes the header on a newline
       file.write("Molte Benne Pizzeria Order Receipt \n")
       # Writes the subheading on a newline
       file.write('Order Details: \n')
       # Writes each pizza from the cart on newline
       for i in cart:
         file.write(i + '\n')
       # Writes the total price of everything
       file.write('Total Price:  $'+totalstr)
    # Prints out the receipts filename
    print(f'Receipt saved to {filename}')
    ret = input('Press any key to return to the main menu')
    spacefunc()
    repeatfunc2()





       



# This function is defined to put a space in the line in between functions      
def spacefunc():
    print(' ')



      



# This function handles the pizza size selection in the custom pizza menu    
def sizefunc():
    # This list outlines the available size selections
    sizes = ['Small','Medium','Large']
    # Prints a statement informing the user of the available choices
    print('Available Sizes:')
    # This loop enumerates the list and prints each value on a new line
    for i, size in enumerate(sizes):
      print(f"{i+1}. {size}")
    # This makes the variable global and scope out the entire program for later use
    global sizeord
    # User prompt to enter the pizza size desired
    sizeord = input('What size pizza would you like?: ')
    # This if statement controls the Small pizza size option
    if sizeord.title() == sizes[0] or sizeord.upper() == 'S' or sizeord == '1':
        sizeord = 'Small'
        print('You have chosen to make a small pizza')
    # This if statement controls the Medium pizza size option
    elif sizeord.title() == sizes[1] or sizeord.upper() == 'M' or sizeord == '2':
        sizeord = 'Medium'
        print('You have chosen to make a medium pizza')
    # This if statement controls the Large pizza size option
    elif sizeord.title() == sizes[2] or sizeord.upper() == 'L' or sizeord == '3':
        sizeord = 'Large'
        print('You have chosen to make a large pizza')
    # If an invalid input is entered the function recurs
    else:
        print('Invalid option chosen, restarting order')
        sizefunc()









# This function handles the crust selection in the custom pizza menu
def crustfunc():
    # This list outlines the available crust options
    crusts = ['Deep Pan', 'Thin', 'Stuffed', "Regular" ]
    # Prints a statement informing the user of the available choices
    print('Available Crust Options:')
    # This loop enumerates the list and prints each value on a new line
    for i, crust in enumerate(crusts):
      print(f"{i+1}. {crust}")
    # This makes the variable global and scope out the entire program for later use
    global crustord
    # User prompt to enter the type of crust desired
    crustord = input('What type of crust would you like?: ')
    # This if statement controls the Deep Pan crust option
    if crustord.title() == crusts[0] or crustord == '1' :
        crustord = 'Deep Pan'
        print('You have chosen a Deep Pan crust')
    # This if statement controls the Thin crust option
    elif crustord.title() == crusts[1] or crustord == '2' :
        crustord = 'Thin'
        print('You have chosen a Thin crust')
    # This if statement controls the Stuffed crust option
    elif crustord.title() == crusts[2] or crustord == '3' :
        crustord = 'Stuffed'
        print('You have chosen a Stuffed crust')
    # This if statement controls the Regular crust option
    elif crustord.title() == crusts[3] or crustord == '4' :
        crustord = 'Regular'
        print('You have chosen a Regular crust')
    # If an invalid input is entered the function recurs
    else:
        print('Invalid option chosen, restarting order')
        crustfunc()







# This function controls the sauce selection in the custom pizza menu
def saucefunc():
    # This list outlines the available Sauce options
    sauces = ['Tomato', 'BBQ', 'Special']
    # Prints a statement informing the user of the available choices
    print('Available Sauces:')
    # This loop enumerates the list and prints each value on a new line
    for i, sauce in enumerate(sauces):
        print(f"{i+1}. {sauce}")
    # This makes the variable global and scope out the entire program for later use
    global sauceord
    # User prompt to enter the type of sauce desired
    sauceord = input('Which sauce would you like?: ')
    # This if statement controls Tomato sauce option
    if sauceord.title() == sauces[0] or sauceord == '1' :
        sauceord = 'Tomato'
        print('You have chosen the Tomato sauce')
    # This if statement controls BBQ sauce option
    elif sauceord.upper() == sauces[1] or sauceord == '2' :
        sauceord = 'BBQ'
        print('You have chosen the BBQ sauce')
    # This if statement controls Special sauce option
    elif sauceord.title() == sauces[2] or sauceord == '3' :
        sauceord = 'Special'
        print('You have chosen the Special sauce')
    # If an invalid input is entered the function recurs
    else:
        print('Invalid option chosen, restarting order')
        saucefunc()







# This function controls the cheese selection in the custom pizza menu
def cheesefunc():
    # This list outlines all the available cheeses
    cheeses = ['Mozerella', 'Provolone', 'Parmesan']
    # Prints a statement informing the user of the available choices
    print('Available Cheeses:')
    # This loop enumerates the list and prints each value on a new line
    for i, cheese in enumerate(cheeses):
        print(f"{i+1}. {cheese}")
    # This makes the variable global and scope out the entire program for later use
    global cheeseord
    # User prompt to input the type of cheese desired
    cheeseord = input('What type of cheese would you like?: ')
    # This if statement controls the Mozerella cheese option
    if cheeseord.title() == cheeses[0] or cheeseord == '1':
        cheeseord = 'Mozerella'
        print('You have chosen Mozerella cheese')
    # This if statement controls the Provolone cheese option
    elif cheeseord.title() == cheeses[1] or cheeseord == '2':
        cheeseord = 'Provolone'
        print('You have chosen Provolone cheese')
    # This if statement controls the Parmesan cheese option
    elif cheeseord.title() == cheeses[2] or cheeseord == '3':
        cheeseord = 'Parmesan'
        print('You have chosen Parmesan cheese')
    # If an invalid input is entered the function recurs
    else:
        print('Invalid option chosen, restarting order')
        cheesefunc()









# This variable is defined outside the function as an empty list so that when the function recurs to ask for another topping it does not lose the previously entered topping
chosentop = []
# This function handles the topping selection in the custom pizza menu
def toppingfunc():
    # This list outlines all the available toppings
    toppings = ['Peperoni','Mushrooms','Chicken','Pineapple','Tomatoes','Olives','Sausage','Capsicum','None']
    # Prints a statement informing the user of the available choices
    print('Available Toppings:')
    # This loop enumerates the list and prints each value on a new line
    for i, topping in enumerate(toppings):
        print(f"{i+1}. {topping}")
    # Use prompt to input the toppings desired
    toppingord = input('What topping would you like?(one per line): ')
    # This if statement controls the Peperoni topping option
    if toppingord.title() == toppings[0] or toppingord == '1':
        toppingord = 'Peperoni'
    # This if statement controls the Mushrooms topping option
    elif toppingord.title() == toppings[1] or toppingord == '2':
        toppingord = 'Mushrooms'
    # This if statement controls the Chicken topping option
    elif toppingord.title() == toppings[2] or toppingord == '3':
        toppingord = 'Chicken'
    # This if statement controls the Pineapple topping option
    elif toppingord.title() == toppings[3] or toppingord == '4':
        toppingord = 'Pineapple'
    # This if statement controls the Tomatoes topping option
    elif toppingord.title() == toppings[4] or toppingord == '5':
        toppingord = 'Tomatoes'
    # This if statement controls the Olives topping option
    elif toppingord.title() == toppings[5] or toppingord == '6':
        toppingord = 'Olives'
    # This if statement controls the Sausage topping option
    elif toppingord.title() == toppings[6] or toppingord == '7':
        toppingord = 'Sausage'
    # This if statement controls the Capsicum topping option
    elif toppingord.title() == toppings[7] or toppingord == '8':
        toppingord = 'Capsicum'
    # This if statement controls the None topping option
    elif toppingord.title() == toppings[8] or toppingord == '9':
        toppingord = 'None'
    # If an invalid input is entered the function recurs
    else:
        print('Invalid option chosen, restarting order')
        toppingfunc()
    # This if statement prints out the list of toppings selected 
    if toppingord.title() in toppings:
        chosentop.append(toppingord)
        choice = input('Would you like to select more toppings?(y/n):')
        if choice.lower() == 'y' or choice.lower() == 'yes':
            toppingfunc()
        elif choice.lower() == 'n' or choice.lower() == 'no':
            print('You have chosen the following toppings:',*chosentop, sep = ', ')
        else:
            print('Invalid option chosen please choose the next topping')
            toppingfunc()
 

            


# This function prints out the order summary of a custom pizza order           
def custonfunc():
    global bal
    global customprice
    customprice = [12,19,27]
    if sizeord.title() == 'Small' : customprice = customprice[0]
    if sizeord.title() == 'Medium' :  customprice =  customprice[1]
    if sizeord.title() == 'Large' : customprice =  customprice[2] 
    # Informs the user of the order summary
    print('Order Summary:')
    # Prints the pizza size chosen
    print('You have chosen to make a',sizeord,'pizza')
    # Prints the pizza crust chosen
    print('with a',crustord,'crust')
    # Prints the sauce chosen
    print(sauceord,'sauce')
    # Prints the cheese chosen
    print('and',cheeseord,'cheese')
    # Prints the toppings chosen
    print('with the following toppings:',*chosentop,sep =' ')
    # Prints the price of the pizza
    print('$',customprice)
    
    
   
    # This if statement controls the payment of the small size pizzas
    if sizeord.title() == 'Small':
           # If the balance in the wallet is greater than or equal to 12 the next section of if statements will execute
           if bal >= 12:
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of succesful order and deduction of funds from the wallet
               print('Thank you for ordering $12 has been deducted from your wallet')
               # Deducts 12 from the wallet balance
               bal -= 12
               # Prints the remaining balance in the wallet
               print('Remaining Balance: ','$',bal)
               spacefunc()
               print('Thank you for ordering. Here is your receipt')
               spacefunc()
               receiptfunc2()
           else:
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of the insuffcient funds in their wallet
               print('Insuffcient funds please deposit funds into your account')
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of the the wallet opening
               print('Opening wallet now')
               # Calling the function makes a space between the previous line
               spacefunc()
               # Opens the deposit option in the wallet
               walletfunc2()
               # Calling the function makes a space between the previous line
               spacefunc()
               # Restarts the ordering process
               # Prints a statement notifying the user of succesful order and deduction of funds from the wallet
               print('Thank you for ordering $12 has been deducted from your wallet')
               # Deducts 12 from the wallet balance
               bal -= 12
               # Prints the remaining balance in the wallet
               print('Remaining Balance: ','$',bal)
               spacefunc()
               print('Thank you for ordering. Here is your receipt')
               spacefunc()
               receiptfunc2()
              
        
        # This if statement controls the payment of the medium size pizzas
    if sizeord.title() == 'Medium':
           # If the balance in the wallet is greater than or equal to fourteen the next section of if statements will execute
           if bal >= 19:
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of succesful order and deduction of funds from the wallet
               print('Thank you for ordering $19 has been deducted from your wallet')
               # Deducts 19 from the wallet balance
               bal -= 19
               # Prints the remaining balance in the wallet
               print('Remaining Balance: ','$',bal)
               spacefunc()
               print('Thank you for ordering. Here is your receipt')
               spacefunc()
               receiptfunc2()
          
           else: 
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of the insuffcient funds in their wallet
               print('Insuffcient funds please deposit funds into your account')
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of the the wallet opening
               print('Opening wallet now')
               # Calling the function makes a space between the previous line
               spacefunc()
               # Opens the deposit option in the wallet
               walletfunc2()
               # Calling the function makes a space between the previous line
               spacefunc()
               # Restarts the ordering process
               # Prints a statement notifying the user of succesful order and deduction of funds from the wallet
               print('Thank you for ordering $19 has been deducted from your wallet')
               # Deducts 19 from the wallet balance
               bal -= 19
               # Prints the remaining balance in the wallet
               print('Remaining Balance: ','$',bal)
               spacefunc()
               print('Thank you for ordering. Here is your receipt')
               spacefunc()
               receiptfunc2()
         
         
         # This if statement controls the payment of the large size pizzas
    if sizeord.title() == 'Large':
           # If the balance in the wallet is greater than or equal to 27 the next section of if statements will execute
           if bal >= 27:
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of succesful order and deduction of funds from the wallet
               print('Thank you for ordering $27 has been deducted from your wallet')
               # Deducts 27 from the wallet balance
               bal -= 27
               # Prints the remaining balance in the wallet
               print('Remaining Balance: ','$',bal)
               spacefunc()
               print('Thank you for ordering. Here is your receipt')
               spacefunc()
               receiptfunc2()
           else: 
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of the insuffcient funds in their wallet
               print('Insuffcient funds please deposit funds into your account')
               # Calling the function makes a space between the previous line
               spacefunc()
               # Prints a statement notifying the user of the the wallet opening
               print('Opening wallet now')
               # Calling the function makes a space between the previous line
               spacefunc()
               # Opens the deposit option in the wallet
               walletfunc2()
               # Calling the function makes a space between the previous line
               spacefunc()
               # Restarts the ordering process
               # Prints a statement notifying the user of succesful order and deduction of funds from the wallet
               print('Thank you for ordering $27 has been deducted from your wallet')
               # Deducts 27 from the wallet balance
               bal -= 27
               # Prints the remaining balance in the wallet
               print('Remaining Balance: ','$',bal)
               spacefunc()
               print('Thank you for ordering. Here is your receipt')
               spacefunc()
               receiptfunc2()
               











# Imports the date and time function to make the receipt filename unique      
import datetime
# This function handles the receipt printing after an order
def receiptfunc2():
    # Gets the current date and time
    now = datetime.datetime.now()
    # Converts the chosentop list into a string to it can be written in the text file
    liststring = ' '.join(map(str,chosentop))
    # Sets the filename format
    filename = f"Receipt_{now.strftime('%Y-%m-%d_%H-%M-%S')}.txt"
    # Creates the receipt file and writes to it
    with open(filename, "w") as file:
    # Writes the header on a newline
     file.write("Molte Benne Pizzeria Order Receipt \n")
     # Writes the subheading on a newline
     file.write('Order Details: \n')
     # Writes the pizza size chosen on a newline
     file.write(sizeord+' pizza\n')
     # Writes the pizza crust chosen on a newline
     file.write('with a '+crustord+' crust\n')
     # Writes the sauce chosen on a newline
     file.write(sauceord+' sauce\n')
     # Writes the cheese chosen on a newline
     file.write('and '+cheeseord+' cheese\n')
     # Writes the toppings chosen on a newlin
     file.write('with the following toppings: '+liststring+'\n')
     # Converts the pizza price from and integer to a string so it can be written to the txt file
     strprice = str(customprice)
     # Writes the price of the pizza on a newline
     file.write('Total: $'+strprice+'\n')

    # Prints out the receipts filename
    print(f'Receipt saved to {filename}')
    ret = input('Press any key to return to the main menu')
    spacefunc()
    repeatfunc2()












# This function is defined to repeat the whole program when the user exits the wallet menu
def repeatfunc2():
  # Define the Main Menu options of the program this is what will be printed out when the program runs
  options = ["Menu", 'Custom Pizza', "Wallet",'My Orders']

  # Asks the user to select one of the menu options
  print("Welcome", name ,"please select from the following options(or enter exit if you want to leave):")

  # Loop through all the available options and match each option with the correct number using enumerate
  for i, option in enumerate(options):
      print(f"{i+1}. {option}")

  # The user prompt to input their selection
  selection = input("Which service would you like to use: ")

  # Check if the user entered exit and if so convert it to lowercase and exit the program
  if selection.lower() == "exit":
      print("Thank you for coming to Molto Benne Pizzeria. Goodbye!")
      exit()
    
    
      # Setting the parameters of choosing the Menu option by either entering 'menu' or '1' and converts the input into title case to match the conditional statement
  elif selection == '1' or selection.title() == 'Menu' :
       print("You have selected the menu.")
       # Calling the function makes a space between the previous line
       spacefunc()
       # Calling the function causes the menu to print
       menufunc()
       # Calling the function makes a space between the previous line
       spacefunc()
       # Calling this function causes the ordering process to begin
       orderfunc()
    
    
      # Setting the parameters of choosing the Custom  Pizza option by either entering 'custom pizza' or '2' and converts the input into title case to match the conditional statement
  elif selection == '2' or selection.title() == 'Custom Pizza' :
      print("You have chosen to make a custom pizza.")
      # Calling the function makes a space between the previous line
      spacefunc()
      # Calling the function causes the custom pizza ordering to begin starting with the size
      sizefunc()
      # Calling the function makes a space between the previous line
      spacefunc()
      # Calling the function causes the crust selection process to begin
      crustfunc()
      # Calling the function makes a space between the previous line
      spacefunc()
      # Calling the function causes the sauce selection process to begin
      saucefunc()
      # Calling the function makes a space between the previous line
      spacefunc()
      # Calling the function causes the cheese selection process to begin
      cheesefunc()
      # Calling the function makes a space between the previous line
      spacefunc()
      # Calling the function causes the topping selection process to begin
      toppingfunc()
      # Calling the function makes a space between the previous line
      spacefunc()
      # Calling the function causes the order summary to be printed
      custonfunc()
   
     
   #  Setting the parameters of choosing the Wallet option by either entering 'Wallet' or '3' and converts the input into title case to match the conditional statement
  elif selection == '3' or selection.title() == 'Wallet':
      print("You have entered your pizza wallet.")
      spacefunc()
      walletfunc()
      # If anything else is enterd the program will repeat the question


 # Setting the parameters of choosing the My Orders option by either entering 'My orders' or '4' and converts the input into title case to match the conditional statement
  elif selection == '4' or selection.title() == 'My Orders' :
     print("You have entered your order list.")
     # Calling the function makes a space between the previous line
     spacefunc()
     orderlistfunc()


  else:
      print("Invalid selection please try again.")
      selection = input("Which service would you like to use: ")
      repeatfunc()







      




# This variable is defined outside of the function so the money deposited into the wallet is not reset when exiting the wallet menu     
bal = 0
# This function handles the wallet option on the main menu
def walletfunc():
    # This defines that the 'bal' variable used in the function is the global one previously declared
    global bal
    # This list outlines the wallet menu options and will printed out when the menu is entered
    options = ['Deposit','Check Balance','Exit']
    # This loop enumerates the list values in respective order
    for i, option in enumerate(options):
        print(f"{i+1}. {option}")
    # User prompt to enter which option they would like to use
    sel = input('Which service would you like to use?: ')
    # This function creates a space between the previous line and the next line
    spacefunc()
    # This if statement controls Deposit menu option
    if sel.title() == [0] or sel == '1':
        # User prompt to enter the amount of money to deposit
        deposit = float(input('How much would you like to deposit?: '))
        # The amount of money deposited is added to the 'bal' variable to save it
        bal += deposit
        # Notifies the user that the funds have been deposited and states the current balance 
        print('Funds deposited succesfully, Current Balance:', '$',bal)
        # User prompt to exit to the main menu by pressing any key
        ret = input("Press any key to return to the main menu: ")
        # This function creates a space between the previous line and the next line
        spacefunc()
        # Returns to the wallet main menu
        walletfunc()
    # This if statement controls the Check Balance menu option
    elif sel.title() == [1] or sel == '2':
        # Prints the current balance in the wallet
        print('Current Balance:', '$',bal)
        # User prompt to exit to the main menu by pressing any key
        ret = input("Press any key to return to the main menu: ")
        # This function creates a space between the previous line and the next line
        spacefunc()
        # Returns to the wallet main menu
        walletfunc()
    # This if statement controls the Exit menu option
    elif sel.title() == [2] or sel == '3':
        # Notifies the user that the program is exiting
        print('Exiting to the main menu')
        # This function creates a space between the previous line and the next line
        spacefunc()
        # This function repeats the main menu of the program after exiting the wallet menu allowing the user to buy the pizza with money
        repeatfunc2()
    # This if statement handles the program if an invalid input it entered
    else:
        # Notifying the user of the invalid input
        print('Invalid option chosen, restarting program')
        # This function creates a space between the previous line and the next line
        spacefunc()
        # Returns the user to the wallet main menu
        walletfunc()










# This variable is defined outside of the function so the money deposited into the wallet is not reset when exiting the wallet menu     
bal = 0
# This function opens the wallet if insuffcient funds are detected while ordering
def walletfunc2():
    # This defines that the 'bal' variable used in the function is the global one previously declared
    global bal
    # User prompt to enter the amount of money to deposit
    deposit = float(input('How much would you like to deposit?: '))
     # The amount of money deposited is added to the 'bal' variable to save it
    bal += deposit
    # Notifies the user that the funds have been deposited and states the current balance 
    print('Funds deposited succesfully, Current Balance:', '$',bal)
    
       

    

def orderlistfunc():
    # Makes the 'cart' variable uses in the function the global one previously defined
    global cart
    # This if statement handles the program if the cart is empty
    if cart == []:
        # Notifies the user of the empty cart
        print('Sorry you have no orders to display')
        # User prompt to enter any key to return to the main menu
        ret = input('Press any key to return to the main menu')
        # Creates a newline space between the last line
        spacefunc()
        # Exits to the main menu
        repeatfunc2()
    
    else:
        print('Your order list:')
        # Loop through all the pizzas in cart and match each option with the correct number using enumerate
        for i, carts in enumerate(cart):
           print(f"{i+1}. {carts}")
        # User prompt to enter which pizza they would like to pick up or exit if they want to leave
        pick = input('Enter the number of the pizza you would like to pick up (Or enter exit if you want to leave): ')
        # This if statement quits to the main menu if exit is entered
        if pick.lower() == 'exit':
            spacefunc()
            repeatfunc2()
        # This try statement attempts to convert the user input into an integer to index the list value
        try:
            # Attempts to convert the user input into an integer
            pick = int(pick)
            # If the value is an integer it is minused by 1 to match the list index and then popped from the list
            pickup = cart.pop(pick-1)
            spacefunc()
            # The user is notified of the picked up pizza 
            print(f'Thank you for picking up your {pickup}')
            spacefunc()
            orderlistfunc()
        # This except statement handles the program if a non integer value is entered or the integer value non indexable in the list
        except(ValueError,IndexError):
          # Notifies the user of the invalid input entered
          print('Invalid input entered please try again')
          # Invalid input causes the function to recur
          orderlistfunc()
        




# Define the Main Menu options of the program this is what will be printed out when the program runs
options = ["Menu", 'Custom Pizza', "Wallet", 'My Orders']

# Prints the welcome message 
print("Welcome to Molto Benne Pizzeria!")

# Asks the user for their name
name = input('What is your name: ')

# Asks the user to select one of the menu options
print("Welcome", name ,"please select from the following options(or enter exit if you want to leave):")

# Loop through all the available options and match each option with the correct number using enumerate
for i, option in enumerate(options):
    print(f"{i+1}. {option}")

# The user prompt to input their selection
selection = input("Which service would you like to use: ")




# This function is defined to repeat the if statements and update the selection variable if an invalid input is enetered
def repeatfunc():

# The if statements are repeated to update the selection variable after an invalid input
    if selection.lower() == "exit":
        print("Thank you for coming to Molto Benne Pizzeria. Goodbye!")
        exit()
   
   
    # Setting the parameters of choosing the Menu option by either entering 'menu' or '1' and converts the input into title case to match the conditional statement
    elif selection == '1' or selection.title() == 'Menu' :
        print("You have selected the menu.")
     # Calling the function makes a space between the previous line
        spacefunc()
     # Calling the function causes the menu to print
        menufunc()
     # Calling the function makes a space between the previous line
        spacefunc()
     # Calling this function causes the ordering process to begin
        orderfunc()
   
   
    # Setting the parameters of choosing the Custom option by either entering 'custom' or '2' and converts the input into title case to match the conditional statement
    elif selection == '2' or selection.title() == 'Custom Pizza' :
        print("You have chosen to make a custom pizza")
        # Calling the function makes a space between the previous line
        spacefunc()
         # Calling the function causes the custom pizza ordering to begin starting with the size
        sizefunc()
         # Calling the function makes a space between the previous line
        spacefunc()
        # Calling the function causes the crust selection process to begin
        crustfunc()
        # Calling the function makes a space between the previous line
        spacefunc()
        # Calling the function causes the sauce selection process to begin
        saucefunc()
        # Calling the function makes a space between the previous line
        spacefunc()
        # Calling the function causes the cheese selection process to begin
        cheesefunc()
        # Calling the function makes a space between the previous line
        spacefunc()
        # Calling the function causes the topping selection process to begin
        toppingfunc()
        # Calling the function makes a space between the previous line
        spacefunc()
        # Calling the function causes the order summary to be printed
        custonfunc()   
   
   
    # Setting the parameters of choosing the Wallet option by either entering 'Wallet' or '3' and converts the input into title case to match the conditional statement
    elif selection == '3' or selection.title() == 'Wallet':
        print("You have entered your pizza wallet.")
        spacefunc()
        walletfunc()
   
   
    # Setting the parameters of choosing the My Orders option by either entering 'My orders' or '4' and converts the input into title case to match the conditional statement
    elif selection == '4' or selection.title() == 'My Orders' :
     print("You have entered your order list.")
     # Calling the function makes a space between the previous line
     spacefunc()
     orderlistfunc()
   
   
    # If and invalid input is entered for the second time the program wil exit
    else:
        print('Invalid selection exiting program :(' )
        exit()
    






# Check if the user entered exit and if so convert it to lowercase and exit the program
if selection.lower() == "exit":
    print("Thank you for coming to Molto Benne Pizzeria. Goodbye!")
    exit()
    
    
    # Setting the parameters of choosing the Menu option by either entering 'menu' or '1' and converts the input into title case to match the conditional statement
elif selection == '1' or selection.title() == 'Menu' :
     print("You have selected the menu.")
     # Calling the function makes a space between the previous line
     spacefunc()
     # Calling the function causes the menu to print
     menufunc()
     # Calling the function makes a space between the previous line
     spacefunc()
     # Calling this function causes the ordering process to begin
     orderfunc()
    
    
    # Setting the parameters of choosing the Custom option by either entering 'custom' or '2' and converts the input into title case to match the conditional statement
elif selection == '2' or selection.title() == 'Custom Pizza' :
    print("You have chosen to make a custom pizza.")
    # Calling the function makes a space between the previous line
    spacefunc()
    # Calling the function causes the custom pizza ordering to begin starting with the size
    sizefunc()
    # Calling the function makes a space between the previous line
    spacefunc()
    # Calling the function causes the crust selection process to begin
    crustfunc()
    # Calling the function makes a space between the previous line
    spacefunc()
    # Calling the function causes the sauce selection process to begin
    saucefunc()
    # Calling the function makes a space between the previous line
    spacefunc()
    # Calling the function causes the cheese selection process to begin
    cheesefunc()
    # Calling the function makes a space between the previous line
    spacefunc()
    # Calling the function causes the topping selection process to begin
    toppingfunc()
    # Calling the function makes a space between the previous line
    spacefunc()
    # Calling the function causes the order summary to be printed
    custonfunc()
   
     
 #  Setting the parameters of choosing the Wallet option by either entering 'Wallet' or '3' and converts the input into title case to match the conditional statement
elif selection == '3' or selection.title() == 'Wallet':
    print("You have entered your pizza wallet.")
    spacefunc()
    walletfunc()
   


  # Setting the parameters of choosing the Menu option by either entering 'menu' or '1' and converts the input into title case to match the conditional statement
elif selection == '4' or selection.title() == 'My Orders' :
     print("You have entered your order list.")
     # Calling the function makes a space between the previous line
     spacefunc()
     orderlistfunc()

 # If anything else is enterd the program will repeat the question
else:
    print("Invalid selection please try again.")
    selection = input("Which service would you like to use: ")
    repeatfunc()









